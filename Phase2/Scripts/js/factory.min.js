!function(e,t,a,o){"use strict";var n={Factory:{W:a(e),D:a(t),HB:a("html , body"),H:a("html"),B:a("body"),Year:a(".m-year"),Dot:a(".m-dot"),DotNav:a(".m-dot").find(".m-dot-item"),Device:/Android|webOS|iPad|BlackBerry/i,IOS:/iPhone|iPad|iPod/i,DocumentOff:"click touchstart",Animationend:null,UserAgent:null,Href:e.parent.location.href,Locations:(e.parent.location.protocol+"//"+e.parent.location.host).toLowerCase(),Domain:e.parent.location.href.split(""+(e.parent.location.protocol+"//"+e.parent.location.host).toLowerCase())[1],GetUserAgent:function(){var t=this;a(e).width()<768?t.UserAgent="Mobile":n.Factory.Device.test(navigator.userAgent)?t.UserAgent="Tablet":t.UserAgent="PC"},Nav:{Onclick:function(){a(".m-header").toggleClass(a(".m-header").data("open")),n.Factory.D.on(n.Factory.DocumentOff,function(e){a(e.target).is(".jQ-nav , .jQ-nav * , .m-nav , .m-nav * , .m-nav-sub , .m-nav-sub *")||a(".m-header").removeClass(a(".m-header").data("open"))})},Scroll:function(){n.Factory.W.scrollTop()>0?a(".m-header").addClass(a(".m-header").data("scroll")):a(".m-header").removeClass(a(".m-header").data("scroll"))},GetWidth:function(){for(var e=0,t=a(".m-nav-menu").find("> li");e<t.length;e++)t.eq(e).outerWidth()<t.eq(e).find(".m-nav-sub").outerWidth()&&t.eq(e).find(".m-nav-sub").css("left",(t.eq(e).find(".m-nav-sub").outerWidth()-t.eq(e).outerWidth())/-2)},SubOnClick:function(e,t){var o=this;if("PC"!==n.Factory.UserAgent&&0!==a(t).next(".m-nav-sub").length){var i=a(".jQ-nav-menu").data("active");e.preventDefault(),a(t).parent().toggleClass(i).siblings().removeClass(i),o.SubOffClick(e)}},SubOffClick:function(e){var t=a(".jQ-nav-menu").data("active");n.Factory.D.on(n.Factory.DocumentOff,function(e){e.stopPropagation(),$(e.target).is(".jQ-nav-sub , .jQ-nav-sub * , .m-nav-sub , .m-nav-sub *")||a(".jQ-nav-sub").parent().removeClass(t)})}},DotSet:function(e){var t=this;"function"==typeof e&&e(),t.Dot.css("margin-top",t.Dot.outerHeight()/2*-1),t.DotNav=t.Dot.find(".m-dot-item")},ViewHeight:function(e,t){var a=t?t:0;e.css("height",n.Factory.D.height()-a)},ImgFull:{Element:a(".jQ-full"),EWidth:null,EHeight:null,Init:function(e){for(var t=this,o=a(e[0]).outerWidth(),n=a(e[0]).outerHeight(),i=0;i<t.Element.length;i++)t.Element.eq(i).removeAttr("style"),t.EWidth=t.Element.eq(i).width(),t.EHeight=t.Element.eq(i).height(),n/o>t.EHeight/t.EWidth?t.Element.eq(i).css({"margin-left":(parseInt(n/t.EHeight*t.EWidth,10)-o)/2*-1+"px",width:parseInt(n/t.EHeight*t.EWidth,10)+"px",height:n+"px"}):t.Element.eq(i).css({"margin-top":(parseInt(o/t.EWidth*t.EHeight,10)-n)/2*-1+"px",width:o+"px",height:parseInt(o/t.EWidth*t.EHeight,10)+"px"})}},LoadImg:{Index:0,Total:0,Element:".jQ-load",Append:function(e){for(var t=this,o=0;o<a(t.Element).length;o++)a(t.Element).eq(o).attr("src",a(t.Element).eq(o).data("src"));t.Load(e)},Load:function(e){var t=this;a(t.Element).one("load",function(){t.Index++,t.Total=parseInt(t.Index/a(t.Element).length*100,10),a(".jQ-percentage").text(t.Total+"%"),t.Index===a(t.Element).length&&"function"==typeof e&&e()}).each(function(){this.complete&&a(this).load()})}},Checked:{OpenChecked:function(){"true"!==sessionStorage.Already&&(a(".l-content").addClass(a(".l-content").data("blur")),a(".l-footer").addClass(a(".l-footer").data("blur")),n.Factory.Year.removeClass(n.Factory.Year.data("hide")))},Already:function(){sessionStorage.Already="true",n.Factory.Year.addClass(n.Factory.Year.data("cloak")),n.Factory.D.finish().delay(400).queue(function(e){a(".l-content").removeClass(a(".l-content").data("blur")),a(".l-footer").removeClass(a(".l-footer").data("blur")),n.Factory.Year.addClass(n.Factory.Year.data("hide")).removeClass(n.Factory.Year.data("cloak")),n.Factory.IOSChrome()&&alert("請使用 iOS Safari 開啟此活動網站，避免影響您的權益。")})},Not:function(){n.Factory.Year.find(".m-year-warning").removeClass(n.Factory.Year.find(".m-year-warning").data("hide"))}},FB:{UserID:null,Init:function(){e.fbAsyncInit=function(){FB.init({appId:962792660480600,status:!0,cookie:!0,xfbml:!0,version:"v2.5"})},function(e,t,a){var o,n=e.getElementsByTagName(t)[0];e.getElementById(a)||(o=e.createElement(t),o.id=a,o.src="//connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v2.5&appId=962792660480600?JS=20160119_01",n.parentNode.insertBefore(o,n))}(t,"script","facebook-jssdk")},GetLoaginState:function(e){var t=this;FB.getLoginStatus(function(a){a.authResponse?(t.UserID=a.authResponse.userID,e()):t.Login(e)})},Login:function(e){var t=this;FB.login(function(a){a.authResponse?(t.UserID=a.authResponse.userID,e()):alert("須同意應用程式")},{scope:"email"})},Share:function(){FB.ui({method:"share",href:n.Factory.Locations},function(e){e&&!e.error_code})},Feed:function(e,t,o){FB.ui({method:"feed",name:e,link:a('meta[property="og:url"]').attr("content")+"?output=embed",picture:n.Factory.Locations+"/Content/img/common/"+o,caption:"",description:t,display:"PC"===n.Factory.UserAgent?"iframe":"popup"},function(e){e&&!e.error_code})}},SugarFunBox:function(e){a(".m-header").removeClass(a(".m-header").data("open")),a.SugarFunBox.open({href:a(e).attr("href"),supportMobile:!0,closeBtnElem:a(e).data("ga-push")?'<span class="m-box-close ga_click_trace" ga_cat="pup_up" ga_event="click" ga_label="video_close"></span>':'<span class="m-box-close"></span>',width:"Mobile"!==n.Factory.UserAgent?a(e).data("width")?a(e).data("width"):"60%":"95%",loadImg:'<div class="m-load"><div class="m-load-bd"><div><span class="m-icon-stack m-icon-stack-logos-ver"><i class="m-icon m-icon-stack-logo-ver"></i><i class="m-icon m-icon-stack-logo-text-ver is-absolute"></i><i class="m-icon m-icon-stack-logo-info-ver is-absolute"></i></span></div><span class="m-load-line"><i></i><i></i><i></i><i></i><i></i></span></div></div>'})},IOSChrome:function(){return n.Factory.IOS.test(navigator.userAgent)&&navigator.userAgent.toLowerCase().split("version/")[1]===o?!0:!1}}};e.Projects?e.Projects=$.extend({},e.Projects,n):e.Projects=n}(window,document,jQuery);